!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var i=n(1),o=function(e){return e&&e.__esModule?e:{default:e}}(i);o.default.namespace("PT.Invitation"),PT.Invitation=function(){this.init()},PT.Invitation.prototype={init:function(){var e=this,t=o.default.getUrlParameter("uid");$("#receive").click(function(){e.validTel()&&e.getInvitation(t)}),$("#inform").click(function(){location.href="http://store.putao.com/toys/putaoleyuan"})},validTel:function(){var e=$("input[type=tel]"),t=!0;return null==e.val()||""==e.val()||0==e.val().length?(t=!1,layer.open({content:"请输入手机号",time:2,skin:"msg"})):o.default.isphone(e.val())||(t=!1,layer.open({content:"手机号格式错误",time:2,skin:"msg"})),t},getInvitation:function(e){var t=$("input[type=tel]").val(),n=(new Date).getTime(),i="invitee_phone="+t+"&inviter_uid="+e+"&time="+n,o=md5(i+"171c150f681e1051fb38244467a7693c"),a={invitee_phone:t,inviter_uid:e,sign:o,time:n},r=null;$.ajax({url:parkStatic.url+"v1.2.2/bind/invitation",type:"post",dataType:"json",beforeSend:function(){r=layer.open({type:2,shadeClose:!1,content:"礼包飞来中"})},complete:function(){layer.close(r)},data:a,cache:!1,async:!0,success:function(e){640==e.http_code?layer.open({content:"该手机号已经领取过礼包罗，赶快去葡萄乐园app使用吧！",btn:"我知道了",shadeClose:!1,yes:function(e){$("input[type=tel]").val(""),$("#iv_one").hide(),$("#iv_two").show(),layer.close(e)}}):639==e.http_code?layer.open({content:"您是老用户，不可领取礼包哦，赶快去葡萄乐园app看看最新的活动吧！",btn:"我知道了",shadeClose:!1,yes:function(e){$("input[type=tel]").val(""),$("#iv_one").show(),$("#iv_two").hide(),layer.close(e)}}):633==e.http_code?($("#iv_one").hide(),$("#iv_two").show()):200==e.http_code?($("#iv_one").hide(),$("#iv_two").show()):($("#iv_one").show(),$("#iv_two").hide(),layer.open({content:e.msg,time:2,skin:"msg"}),$("input[type=tel]").val(""))},error:function(e){}})}},$(document).ready(function(){new PT.Invitation})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={namespace:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,o,a,r,c,s,l,p,u;for(i=t,p=i.length,s=0;s<p;s++)for(c=i[s].split("."),r=window[c[0]]=window[c[0]]||{},a=c.slice(1),u=a.length,l=0;l<u;l++)o=a[l],r=r[o]=r[o]||{}},getUrlParameter:function(e){var t,n,i,o=window.location.search.substring(1);if(o)for(t=o.split("&"),n=0;n<t.length;n++)if(i=t[n].split("="),i[0]===e)return i[1]},isphone:function(e){return/^1[0-9]{10}$/.test(e)},openApp:function(){if(function(){var e=navigator.userAgent.toLowerCase();return"micromessenger"==e.match(/MicroMessenger/i)||"weibo"==e.match(/WeiBo/i)||"qq"==e.match(/QQ/i)}())$(".openBrowser").show();else{var e=function(e){var i=Date.now();(!e||i-e<t+200)&&(n=!1)};$(".openBrowser").hide();var t=1e3,n=!0,i={versions:function(){var e=navigator.userAgent;navigator.appVersion;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1==e.indexOf("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/)||!!e.match(/AppleWebKit/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1||e.indexOf("Mac")>-1,iPad:e.indexOf("iPad")>-1,webApp:-1==e.indexOf("Safari")}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()};if(setTimeout(function(){n||(location.href="http://store.putao.com/toys/putaoleyuan")},2e3),i.versions.android){var o=Date.now(),a=document.createElement("iframe");a.src="ptpark://putaopark",a.style.display="none",document.body.appendChild(a),setTimeout(function(){e(o)},t)}else{var o=Date.now();window.location.href="putaoparkh5://park",setTimeout(function(){e(o)},t)}}}};t.default=n}]);